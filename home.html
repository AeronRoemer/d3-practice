<!doctype html>
<html>
<head>
    <style>
        div.bar{
            display: inline-block;
            width: 20px;
            height: 75px;
            background-color: goldenrod;
            margin-right: 6px;
        }
    </style>
</head>
<body>

<script src="https://d3js.org/d3.v6.min.js"></script>
<script src="https://d3js.org/d3-selection-multi.v0.4.min.js"></script>
<script>
let dataArray = [];
for (let i = 0; i < 25; i++){
    const newNumber = Math.floor(Math.random() * 30);
    dataArray.push(newNumber)
}
// d3.select("body").selectAll("p")
//     .data(dataArray)
//     .enter() // creates a new placeholder DOM element if one is not present
//     .append("div") 
//     .style("background-color", function(d){
//         if (d % 2){
//             return "red";
//         } else {
//             return "black";
//         }
//     })
//     .style("height", function(d){
//         return d*5 + "px"
//     })
//     .attr("class", "bar")
// const w = 500
// const h =50
// const svg = d3.select("body")
//     .append("svg")
//     .attr("width", w)
//     .attr("height", h)

// const circles = svg.selectAll("circle")
//     .data(dataArray)
//     .enter()
//     .append("circle")

// circles.attr("cx", function(d, i){
//     return (i*50) +25;
//     })
//     .attr("cy", h/2)
//     .attr("cr", function(d){
//     return d;
//     })           

//Width and height
var w = 500;
var h = 100;
var barPadding = 1;

//Data
var dataset = [ 5, 10, 15, 20, 25 ];

//Create SVG element
const svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

svg.selectAll("rect")
    .data(dataArray)
    .enter()
    .append("rect")
    .attr("x", function (d, i){
        return i * (w/dataArray.length)
    })
    .attr("y", function(d){
        return h - (d * 3);
    })
    .attr("width", w/dataArray.length - barPadding)
    .attr("height", function(d){
        return (d * 3);
    })
    .attr("fill", function(d){
        return "rgb(0,0," + (d*10) +")"
    })

svg.selectAll("text")
    .data(dataArray)
    .enter()
    .append("text")
    .text(function(d){
        return d;
    })
    .attrs({x: function (d, i){return i * (w/dataArray.length) + (w/dataArray.length - barPadding) / 2;},
        y: function(d){return h - (d * 3) + 15;},
        "font-family": "sans-serif",
        "font-size": "11px",
        "fill": "white",
        "text-anchor": "middle"
    })  // 'attrs' required additional D3 script in current version


// d3.csv("dataset.csv", function(data) {
//     console.log(data.YearBuilt)
//   });

</script>
</body>
</html>